import{r as i,C as K,aT as A,dD as H,dE as T,dF as $,dG as L,a as f,dH as W,dI as U,dJ as z,dK as j,dL as G,dM as J,dN as Q,dO as Z,dP as F,dQ as Y,dR as q,f as X,ay as ee,k as t,B,l as te,a9 as ne,J as re}from"./index-C2XINj9G.js";import{b as se,_ as oe}from"./tslib.es6-CwN1OpI9.js";import"./_baseGetTag-B3b5tdDw.js";import{d as ae}from"./debounce-CXQ3b5ad.js";import{u as M}from"./index-wh96cmUq.js";import{D as le}from"./index-DENRhz4W.js";import{u as ce,a as ie}from"./index-Bth0dR0n.js";import{u as de}from"./routerPush-D_2KTDHE.js";import{w as ue}from"./PurePanel-zTxePNFL.js";import{S as me}from"./index-BkgqWcWU.js";import{I as he}from"./index-DYxGfIaI.js";import{E as fe}from"./index-Ccdk80H_.js";import"./index-C8d5iPiy.js";import"./index-BAKmx5B_.js";import"./LangSwitch-BvbE2ZFJ.js";import"./index-KRrIiqon.js";import"./EllipsisOutlined-DkvAKHwk.js";import"./index-EjCxUQYb.js";import"./index-iCTGL4aX.js";import"./SearchOutlined-CnmbZ0Zh.js";var pe=function(e,n){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(s[r[o]]=e[r[o]]);return s};const xe=e=>{const{prefixCls:n,className:s,closeIcon:r,closable:o,type:l,title:h,children:a,footer:w}=e,p=pe(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:x}=i.useContext(K),C=x(),u=n||x("modal"),N=A(C),[S,O,k]=H(u,N),v=`${u}-confirm`;let y={};return l?y={closable:o??!1,title:"",footer:"",children:i.createElement(T,Object.assign({},e,{prefixCls:u,confirmPrefixCls:v,rootPrefixCls:C,content:a}))}:y={closable:o??!0,title:h,footer:w!==null&&i.createElement($,Object.assign({},e)),children:a},S(i.createElement(L,Object.assign({prefixCls:u,className:f(O,`${u}-pure-panel`,l&&v,l&&`${v}-${l}`,s,k,N)},p,{closeIcon:W(u,r),closable:o},y)))},ve=ue(xe);function D(e){return j(q(e))}const d=U;d.useModal=z;d.info=function(n){return j(G(n))};d.success=function(n){return j(J(n))};d.error=function(n){return j(Q(n))};d.warning=D;d.warn=D;d.confirm=function(n){return j(Z(n))};d.destroyAll=function(){for(;F.length;){const n=F.pop();n&&n()}};d.config=Y;d._InternalPanelDoNotUseOrYouWillBeFired=ve;function ye(){var e=(typeof global>"u"?"undefined":typeof global)=="object"&&global&&global.Object===Object&&global,n=typeof self=="object"&&self&&self.Object===Object&&self;return e||n}ye()||(global.Date=Date);function ge(e,n){var s,r=X(e),o=(s=n==null?void 0:n.wait)!==null&&s!==void 0?s:1e3,l=i.useMemo(function(){return ae(function(){for(var h=[],a=0;a<arguments.length;a++)h[a]=arguments[a];return r.current.apply(r,se([],oe(h),!1))},o,n)},[]);return ee(function(){l.cancel()}),{run:l,cancel:l.cancel,flush:l.flush}}const m={"operate-shadow":"_operate-shadow_hubcy_1","operate-item":"_operate-item_hubcy_5"},be=e=>t.jsx("svg",{className:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em",...e,children:t.jsx("path",{fill:"currentColor",d:"M19 7v4H5.83l3.58-3.59L8 6l-6 6l6 6l1.41-1.42L5.83 13H21V7z"})}),je=e=>t.jsx("svg",{className:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em",...e,children:t.jsx("path",{fill:"currentColor",d:"M7.03 9.97h4v8.92l2.01.03V9.97h3.99l-5-5Z"})}),we=e=>t.jsx("svg",{className:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em",...e,children:t.jsx("path",{fill:"currentColor",d:"M7.03 13.92h4V5l2.01-.03v8.95h3.99l-5 5Z"})}),Ce=e=>t.jsx("svg",{className:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em",...e,children:t.jsx("path",{fill:"currentColor",d:"M1 7h6v2H3v2h4v2H3v2h4v2H1zm10 0h4v2h-4v2h2a2 2 0 0 1 2 2v2c0 1.11-.89 2-2 2H9v-2h4v-2h-2a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2m8 0h2a2 2 0 0 1 2 2v1h-2V9h-2v6h2v-1h2v1c0 1.11-.89 2-2 2h-2a2 2 0 0 1-2-2V9c0-1.1.9-2 2-2"})}),Ne=()=>{const{t:e}=B();return t.jsxs(t.Fragment,{children:[t.jsx(le,{className:"my-2px"}),t.jsxs("div",{className:"h-44px flex-center gap-14px",children:[t.jsxs("span",{className:"flex-y-center",children:[t.jsx(be,{className:f(m["operate-shadow"],m["operate-item"])}),t.jsx("span",{children:e("common.confirm")})]}),t.jsxs("span",{className:"flex-y-center",children:[t.jsx(je,{className:f([m["operate-shadow"],m["operate-item"]])}),t.jsx(we,{className:f(m["operate-shadow"],m["operate-item"])}),t.jsx("span",{children:e("common.switch")})]}),t.jsxs("span",{className:"flex-y-center",children:[t.jsx(Ce,{className:f(m["operate-shadow"],m["operate-item"])}),t.jsx("span",{children:e("common.close")})]})]})]})},Pe=i.memo(Ne),Me=e=>t.jsx("svg",{className:"inline-block",viewBox:"0 0 1024 1024",width:"1em",height:"1em",...e,children:t.jsx("path",{fill:"currentColor",d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 0 0 0 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8"})}),Se=i.memo(({menu:e,active:n,setActiveRouteName:s,enter:r})=>{function o(){s(e.key)}return t.jsxs("div",{className:f("mt-8px h-56px flex-y-center cursor-pointer justify-between rounded-4px bg-#e5e7eb  px-14px dark:bg-dark",{"bg-primary":n},{"text-#fff":n}),onMouseEnter:o,onClick:r,children:[t.jsxs("span",{className:"ml-5px flex-1",children:[e.icon,e.label]}),t.jsx(Me,{})]})});function R(e,n=[]){return e&&e.length===0?[]:e.reduce((s,r)=>(r.children||s.push(r),r.children&&r.children.length>0&&R(r.children,n),s),n)}const Je=i.memo(({show:e,onClose:n})=>{const s=te(ne),{t:r}=B(),{allMenus:o}=ce(),[l,h]=i.useState(""),[a,w]=i.useState([]),[p,x]=i.useState(""),C=i.useMemo(()=>R(o),[o]);function u(){setTimeout(()=>{n(),w([]),h("")},200)}function N(){var b;const c=C.filter(E=>{var _;const P=l.toLocaleLowerCase().trim();return P&&((_=E.title)==null?void 0:_.includes(P))}),g=((b=c[0])==null?void 0:b.key)??"";w(c),x(g)}function S(){v(-1)}function O(){v(1)}function k(){return a.findIndex(c=>c.key===p)}function v(c){const{length:g}=a;if(g===0)return;const b=k();if(b===-1)return;const E=(b+c+g)%g,P=a[E].key;x(P)}const y=de(),V=ge(N,{wait:300});function I(){a.length===0||p===""||(u(),y.routerPushByKeyWithMetaQuery(p))}return M("Escape",u),M("Enter",I),M("uparrow",S),M("downarrow",O),t.jsxs(d,{footer:s?null:t.jsx(Pe,{}),styles:{content:{paddingBottom:0,height:s?"100vh":"100%"}},style:s?{margin:0,padding:0,maxWidth:"100%"}:void 0,height:s?"100%":400,open:e,width:s?"100%":630,className:f({"top-0px rounded-0":s}),onCancel:n,closable:!1,children:[t.jsxs(me.Compact,{className:"w-full",children:[t.jsx(he,{allowClear:!0,onInput:V.run,prefix:t.jsx(ie,{className:"text-15px text-#c2c2c2"}),placeholder:r("common.keywordSearch"),onChange:c=>h(c.target.value),value:l}),s&&t.jsx(re,{onClick:u,type:"primary",ghost:!0,children:r("common.cancel")})]}),t.jsx("div",{className:"mt-20px",children:a.length===0?t.jsx(fe,{}):a.map(c=>t.jsx(Se,{enter:I,active:c.key===p,setActiveRouteName:x,menu:c},c.key))})]})});export{Je as default};
