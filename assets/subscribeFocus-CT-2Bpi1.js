import{r as l,w as f}from"./index-C2XINj9G.js";const w=(n,{manual:e,ready:t=!0,defaultParams:a=[],refreshDeps:d=[],refreshDepsAction:o})=>{const s=l.useRef(!1);return s.current=!1,f(()=>{!e&&t&&(s.current=!0,n.run(...a))},[t]),f(()=>{s.current||e||(s.current=!0,o?o():n.refresh())},[...d]),{onBefore:()=>t?null:{stopNow:!0}}};w.onInit=({ready:n=!0,manual:e})=>({loading:!e&&n});const v=n=>typeof n=="function",u=!!(typeof window<"u"&&window.document&&window.document.createElement);function c(){return u?document.visibilityState!=="hidden":!0}const i=[];function g(n){return i.push(n),function(){const t=i.indexOf(n);i.splice(t,1)}}if(u){const n=()=>{if(c())for(let e=0;e<i.length;e+=1){const t=i[e];t()}};window.addEventListener("visibilitychange",n,!1)}function b(){return u&&typeof navigator.onLine<"u"?navigator.onLine:!0}const r=[];function h(n){return r.push(n),function(){const t=r.indexOf(n);t>-1&&r.splice(t,1)}}if(u){const n=()=>{if(!(!c()||!b()))for(let e=0;e<r.length;e+=1){const t=r[e];t()}};window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1)}export{h as a,v as b,c as i,g as s,w as u};
